<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuantTrade Pro - é‡åŒ–äº¤æ˜“ç³»ç»Ÿ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --bg-primary: #0a0e17;
            --bg-secondary: #111827;
            --bg-card: #1f2937;
            --border-color: #374151;
            --text-primary: #f9fafb;
            --text-secondary: #9ca3af;
            --accent-green: #10b981;
            --accent-red: #ef4444;
            --accent-blue: #3b82f6;
            --accent-yellow: #f59e0b;
            --accent-purple: #8b5cf6;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }
        .header {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 0 24px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: fixed;
            top: 0; left: 0; right: 0;
            z-index: 1000;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 20px;
            font-weight: 700;
            color: var(--accent-blue);
        }
        .logo-icon {
            width: 32px; height: 32px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }
        .nav-tabs { display: flex; gap: 4px; }
        .nav-tab {
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            color: var(--text-secondary);
            transition: all 0.2s;
        }
        .nav-tab:hover { background: var(--bg-card); color: var(--text-primary); }
        .nav-tab.active { background: var(--accent-blue); color: white; }
        .header-right { display: flex; align-items: center; gap: 20px; }
        .account-badge {
            background: rgba(245, 158, 11, 0.2);
            color: var(--accent-yellow);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: var(--text-secondary);
        }
        .status-dot {
            width: 8px; height: 8px;
            background: var(--accent-green);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .user-avatar {
            width: 36px; height: 36px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
        }
        .main-container {
            padding-top: 60px;
            display: flex;
            height: 100vh;
        }
        .sidebar {
            width: 240px;
            background: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            padding: 20px 0;
            overflow-y: auto;
        }
        .sidebar-section { padding: 0 16px 20px; }
        .sidebar-title {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
            padding: 0 8px;
        }
        .sidebar-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            color: var(--text-secondary);
            transition: all 0.2s;
            margin-bottom: 4px;
        }
        .sidebar-item:hover, .sidebar-item.active {
            background: var(--bg-card);
            color: var(--text-primary);
        }
        .sidebar-item.active {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
        }
        .content { flex: 1; padding: 24px; overflow-y: auto; background: var(--bg-primary); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 24px;
        }
        .stat-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .stat-card:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(0,0,0,0.3); }
        .stat-label { font-size: 13px; color: var(--text-secondary); margin-bottom: 8px; }
        .stat-value { font-size: 28px; font-weight: 700; color: var(--text-primary); margin-bottom: 8px; }
        .stat-change { font-size: 13px; display: flex; align-items: center; gap: 4px; }
        .stat-change.positive { color: var(--accent-green); }
        .stat-change.negative { color: var(--accent-red); }
        .card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        .card-header {
            padding: 16px 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .card-title { font-size: 16px; font-weight: 600; }
        .card-body { padding: 20px; }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        .btn-primary { background: var(--accent-blue); color: white; }
        .btn-primary:hover { background: #2563eb; }
        .btn-success { background: var(--accent-green); color: white; }
        .btn-success:hover { background: #059669; }
        .btn-danger { background: var(--accent-red); color: white; }
        .btn-danger:hover { background: #dc2626; }
        .btn-secondary { background: var(--bg-card); color: var(--text-secondary); border: 1px solid var(--border-color); }
        .btn-secondary:hover { background: var(--border-color); color: var(--text-primary); }
        .form-group { margin-bottom: 16px; }
        .form-label { display: block; font-size: 13px; color: var(--text-secondary); margin-bottom: 6px; }
        .form-input, .form-select {
            width: 100%;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 12px 16px;
            color: var(--text-primary);
            font-size: 14px;
            outline: none;
        }
        .form-input:focus, .form-select:focus { border-color: var(--accent-blue); }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
        table { width: 100%; border-collapse: collapse; font-size: 13px; }
        th { text-align: left; padding: 12px 16px; color: var(--text-secondary); font-weight: 500; border-bottom: 1px solid var(--border-color); }
        td { padding: 14px 16px; border-bottom: 1px solid var(--border-color); }
        tr:hover { background: rgba(255,255,255,0.02); }
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        .badge-success { background: rgba(16,185,129,0.15); color: var(--accent-green); }
        .badge-danger { background: rgba(239,68,68,0.15); color: var(--accent-red); }
        .badge-warning { background: rgba(245,158,11,0.15); color: var(--accent-yellow); }
        .price-up { color: var(--accent-green); }
        .price-down { color: var(--accent-red); }
        .toast {
            position: fixed;
            bottom: 24px;
            right: 24px;
            padding: 16px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            z-index: 9999;
            animation: slideIn 0.3s ease;
        }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        .toast.success { background: var(--accent-green); color: white; }
        .toast.error { background: var(--accent-red); color: white; }
        .strategy-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
        }
        .strategy-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        .strategy-name { font-size: 16px; font-weight: 600; }
        .strategy-desc { font-size: 13px; color: var(--text-secondary); margin-bottom: 16px; }
        .strategy-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 16px;
        }
        .strategy-stat { text-align: center; }
        .strategy-stat-value { font-size: 18px; font-weight: 700; color: var(--accent-green); }
        .strategy-stat-label { font-size: 12px; color: var(--text-secondary); margin-top: 4px; }
        .switch {
            position: relative;
            display: inline-block;
            width: 48px;
            height: 24px;
        }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: var(--border-color);
            transition: .4s;
            border-radius: 24px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider { background-color: var(--accent-green); }
        input:checked + .slider:before { transform: translateX(24px); }
        .chart-container { height: 300px; background: var(--bg-card); border-radius: 8px; display: flex; align-items: center; justify-content: center; }
        .progress-bar {
            height: 8px;
            background: var(--bg-card);
            border-radius: 4px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: var(--accent-blue);
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        .risk-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 0;
            border-bottom: 1px solid var(--border-color);
        }
        .risk-item:last-child { border-bottom: none; }
        .risk-label { font-weight: 500; }
        .risk-desc { font-size: 13px; color: var(--text-secondary); margin-top: 4px; }
        .report-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; }
        .metric-card {
            background: var(--bg-card);
            border-radius: 8px;
            padding: 16px;
            text-align: center;
        }
        .metric-value { font-size: 24px; font-weight: 700; }
        .metric-label { font-size: 12px; color: var(--text-secondary); margin-top: 4px; }
        .empty-state { text-align: center; padding: 40px; color: var(--text-secondary); }
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg-primary); }
        ::-webkit-scrollbar-thumb { background: var(--border-color); border-radius: 4px; }
        @media (max-width: 1200px) {
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
            .report-grid { grid-template-columns: 1fr; }
            .sidebar { display: none; }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">
            <div class="logo-icon">Q</div>
            <span>QuantTrade Pro</span>
        </div>
        <nav class="nav-tabs">
            <div class="nav-tab active" data-tab="trade">äº¤æ˜“</div>
            <div class="nav-tab" data-tab="strategy">ç­–ç•¥</div>
            <div class="nav-tab" data-tab="backtest">å›æµ‹</div>
            <div class="nav-tab" data-tab="risk">é£æ§</div>
            <div class="nav-tab" data-tab="report">æŠ¥è¡¨</div>
        </nav>
        <div class="header-right">
            <span class="account-badge">æ¨¡æ‹Ÿè´¦æˆ·</span>
            <div class="status-indicator">
                <span class="status-dot"></span>
                <span>ç³»ç»Ÿæ­£å¸¸</span>
            </div>
            <div class="user-avatar">D</div>
        </div>
    </header>

    <div class="main-container">
        <aside class="sidebar">
            <div class="sidebar-section">
                <div class="sidebar-title">èœå•</div>
                <div class="sidebar-item active" data-tab="trade">ğŸ“ˆ äº¤æ˜“</div>
                <div class="sidebar-item" data-tab="strategy">ğŸ¤– ç­–ç•¥</div>
                <div class="sidebar-item" data-tab="backtest">ğŸ“Š å›æµ‹</div>
                <div class="sidebar-item" data-tab="risk">ğŸ›¡ï¸ é£æ§</div>
                <div class="sidebar-item" data-tab="report">ğŸ“‹ æŠ¥è¡¨</div>
            </div>
        </aside>

        <main class="content">
            <!-- äº¤æ˜“æ¨¡å— -->
            <div class="tab-content active" id="trade-tab">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">æ€»èµ„äº§ä¼°å€¼</div>
                        <div class="stat-value" id="totalAsset">$1,000,000</div>
                        <div class="stat-change positive"><span>â†—</span> +0.00%</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">ä»Šæ—¥ç›ˆäº</div>
                        <div class="stat-value" id="todayPnl">$0</div>
                        <div class="stat-change"><span>â€”</span> 0.00%</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">æŒä»“å¸‚å€¼</div>
                        <div class="stat-value" id="positionValue">$0</div>
                        <div class="stat-change"><span>â€”</span> æœªæŒä»“</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">å¯ç”¨ä½™é¢</div>
                        <div class="stat-value" id="availableBalance">$1,000,000</div>
                        <div class="stat-change"><button class="btn btn-secondary" onclick="resetAccount()" style="padding: 4px 12px; font-size: 12px;">é‡ç½®</button></div>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 20px;">
                    <div class="card">
                        <div class="card-header"><div class="card-title">BTC/USDT è¡Œæƒ…</div></div>
                        <div class="card-body"><div class="chart-container">Kçº¿å›¾å ä½</div></div>
                    </div>
                    <div class="card">
                        <div class="card-header"><div class="card-title">å¿«é€Ÿä¸‹å•</div></div>
                        <div class="card-body">
                            <div class="form-group">
                                <label class="form-label">äº¤æ˜“å¯¹</label>
                                <select class="form-select" id="symbolSelect">
                                    <option value="BTC">BTC/USDT</option>
                                    <option value="ETH">ETH/USDT</option>
                                    <option value="SOL">SOL/USDT</option>
                                </select>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">ä»·æ ¼</label>
                                    <input type="number" class="form-input" id="priceInput" value="67234.56">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">æ•°é‡</label>
                                    <input type="number" class="form-input" id="amountInput" placeholder="0.00">
                                </div>
                            </div>
                            <div style="display: flex; gap: 12px; margin-top: 20px;">
                                <button class="btn btn-success" style="flex: 1;" onclick="placeOrder('buy')">ä¹°å…¥</button>
                                <button class="btn btn-danger" style="flex: 1;" onclick="placeOrder('sell')">å–å‡º</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                    <div class="card">
                        <div class="card-header"><div class="card-title">å½“å‰æŒä»“</div></div>
                        <div class="card-body" style="padding: 0;">
                            <table>
                                <thead><tr><th>èµ„äº§</th><th>æ•°é‡</th><th>å‡ä»·</th><th>ç°ä»·</th><th>ç›ˆäº</th></tr></thead>
                                <tbody id="positionTable"><tr><td colspan="5" class="empty-state">æš‚æ— æŒä»“</td></tr></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header"><div class="card-title">æœ€è¿‘æˆäº¤</div></div>
                        <div class="card-body" style="padding: 0;">
                            <table>
                                <thead><tr><th>æ—¶é—´</th><th>æ–¹å‘</th><th>ä»·æ ¼</th><th>æ•°é‡</th></tr></thead>
                                <tbody id="tradeHistory"><tr><td colspan="4" class="empty-state">æš‚æ— æˆäº¤</td></tr></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ç­–ç•¥æ¨¡å— -->
            <div class="tab-content" id="strategy-tab">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">æˆ‘çš„ç­–ç•¥</div>
                        <button class="btn btn-primary" onclick="showStrategyModal()">+ åˆ›å»ºç­–ç•¥</button>
                    </div>
                    <div class="card-body">
                        <div id="strategyList">
                            <div class="strategy-card">
                                <div class="strategy-header">
                                    <div>
                                        <div class="strategy-name">ç½‘æ ¼äº¤æ˜“ç­–ç•¥ #1</div>
                                        <div class="strategy-desc">BTC/USDT Â· ä½é¢‘ç½‘æ ¼ Â· å·²è¿è¡Œ 12 å¤©</div>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox" checked onchange="toggleStrategy(this)">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                <div class="strategy-stats">
                                    <div class="strategy-stat">
                                        <div class="strategy-stat-value">+12.5%</div>
                                        <div class="strategy-stat-label">ç´¯è®¡æ”¶ç›Š</div>
                                    </div>
                                    <div class="strategy-stat">
                                        <div class="strategy-stat-value">68%</div>
                                        <div class="strategy-stat-label">èƒœç‡</div>
                                    </div>
                                    <div class="strategy-stat">
                                        <div class="strategy-stat-value">156</div>
                                        <div class="strategy-stat-label">äº¤æ˜“æ¬¡æ•°</div>
                                    </div>
                                </div>
                            </div>
                            <div class="strategy-card">
                                <div class="strategy-header">
                                    <div>
                                        <div class="strategy-name">è¶‹åŠ¿è·Ÿè¸ªç­–ç•¥ #2</div>
                                        <div class="strategy-desc">ETH/USDT Â· ä¸­é¢‘è¶‹åŠ¿ Â· å·²è¿è¡Œ 5 å¤©</div>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox" onchange="toggleStrategy(this)">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                <div class="strategy-stats">
                                    <div class="strategy-stat">
                                        <div class="strategy-stat-value">+8.3%</div>
                                        <div class="strategy-stat-label">ç´¯è®¡æ”¶ç›Š</div>
                                    </div>
                                    <div class="strategy-stat">
                                        <div class="strategy-stat-value">72%</div>
                                        <div class="strategy-stat-label">èƒœç‡</div>
                                    </div>
                                    <div class="strategy-stat">
                                        <div class="strategy-stat-value">48</div>
                                        <div class="strategy-stat-label">äº¤æ˜“æ¬¡æ•°</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å›æµ‹æ¨¡å— -->
            <div class="tab-content" id="backtest-tab">
                <div class="card">
                    <div class="card-header"><div class="card-title">ç­–ç•¥å›æµ‹</div></div>
                    <div class="card-body">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">é€‰æ‹©ç­–ç•¥</label>
                                <select class="form-select" id="backtestStrategy">
                                    <option value="grid">ç½‘æ ¼ç­–ç•¥</option>
                                    <option value="trend">è¶‹åŠ¿è·Ÿè¸ª</option>
                                    <option value="ma">å‡çº¿ç­–ç•¥</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">äº¤æ˜“å¯¹</label>
                                <select class="form-select" id="backtestSymbol">
                                    <option value="BTC">BTC/USDT</option>
                                    <option value="ETH">ETH/USDT</option>
                                    <option value="SOL">SOL/USDT</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">æ—¶é—´èŒƒå›´</label>
                                <select class="form-select" id="backtestPeriod">
                                    <option value="30">è¿‘30å¤©</option>
                                    <option value="90">è¿‘90å¤©</option>
                                    <option value="180">è¿‘180å¤©</option>
                                    <option value="365">è¿‘1å¹´</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">åˆå§‹èµ„é‡‘ (USDT)</label>
                                <input type="number" class="form-input" id="backtestCapital" value="100000">
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="runBacktest()" style="margin-top: 10px;">å¼€å§‹å›æµ‹</button>
                    </div>
                </div>

                <div class="card" id="backtestResult" style="display: none;">
                    <div class="card-header"><div class="card-title">å›æµ‹ç»“æœ</div></div>
                    <div class="card-body">
                        <div class="report-grid">
                            <div class="metric-card">
                                <div class="metric-value" style="color: var(--accent-green);">+24.56%</div>
                                <div class="metric-label">æ€»æ”¶ç›Šç‡</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value">1.85</div>
                                <div class="metric-label">å¤æ™®æ¯”ç‡</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value">-8.2%</div>
                                <div class="metric-label">æœ€å¤§å›æ’¤</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value">64%</div>
                                <div class="metric-label">èƒœç‡</div>
                            </div>
                        </div>
                        <div class="chart-container" style="margin-top: 20px;">æ”¶ç›Šæ›²çº¿å›¾å ä½</div>
                    </div>
                </div>
            </div>

            <!-- é£æ§æ¨¡å— -->
            <div class="tab-content" id="risk-tab">
                <div class="card">
                    <div class="card-header"><div class="card-title">é£é™©æ§åˆ¶è®¾ç½®</div></div>
                    <div class="card-body">
                        <div class="risk-item">
                            <div>
                                <div class="risk-label">å•ç¬”æ­¢æŸ</div>
                                <div class="risk-desc">å•ç¬”äº¤æ˜“äºæŸè¶…è¿‡è®¾å®šæ¯”ä¾‹æ—¶è‡ªåŠ¨å¹³ä»“</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <input type="number" class="form-input" value="5" style="width: 80px; text-align: center;">
                                <span>%</span>
                                <label class="switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                        <div class="risk-item">
                            <div>
                                <div class="risk-label">æ—¥ç´¯è®¡æ­¢æŸ</div>
                                <div class="risk-desc">å½“æ—¥ç´¯è®¡äºæŸè¶…è¿‡è®¾å®šæ¯”ä¾‹æ—¶åœæ­¢äº¤æ˜“</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <input type="number" class="form-input" value="10" style="width: 80px; text-align: center;">
                                <span>%</span>
                                <label class="switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                        <div class="risk-item">
                            <div>
                                <div class="risk-label">å•å¸ç§ä»“ä½é™åˆ¶</div>
                                <div class="risk-desc">å•ä¸ªå¸ç§æŒä»“ä¸è¶…è¿‡æ€»èµ„äº§çš„æ¯”ä¾‹</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <input type="number" class="form-input" value="50" style="width: 80px; text-align: center;">
                                <span>%</span>
                                <label class="switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                        <div class="risk-item">
                            <div>
                                <div class="risk-label">æ€»ä»“ä½é™åˆ¶</div>
                                <div class="risk-desc">æ‰€æœ‰æŒä»“ä¸è¶…è¿‡æ€»èµ„äº§çš„æ¯”ä¾‹</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <input type="number" class="form-input" value="80" style="width: 80px; text-align: center;">
                                <span>%</span>
                                <label class="switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                        <div class="risk-item">
                            <div>
                                <div class="risk-label">é£é™©é¢„è­¦é€šçŸ¥</div>
                                <div class="risk-desc">è§¦å‘é£æ§æ¡ä»¶æ—¶å‘é€é€šçŸ¥</div>
                            </div>
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- æŠ¥è¡¨æ¨¡å— -->
            <div class="tab-content" id="report-tab">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">æ€»æ”¶ç›Šç‡</div>
                        <div class="stat-value" style="color: var(--accent-green);">+24.56%</div>
                        <div class="stat-change positive"><span>â†—</span> è·‘èµ¢å¤§ç›˜ 15%</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">å¹´åŒ–æ”¶ç›Šç‡</div>
                        <div class="stat-value" style="color: var(--accent-green);">+156.8%</div>
                        <div class="stat-change positive"><span>â†—</span> æœ¬æœˆ +12%</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">å¤æ™®æ¯”ç‡</div>
                        <div class="stat-value">1.85</div>
                        <div class="stat-change"><span>â€”</span> é£é™©è°ƒæ•´åæ”¶ç›Šè‰¯å¥½</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">æœ€å¤§å›æ’¤</div>
                        <div class="stat-value" style="color: var(--accent-red);">-8.2%</div>
                        <div class="stat-change negative"><span>â†˜</span> æ§åˆ¶åœ¨ç›®æ ‡èŒƒå›´å†…</div>
                    </div>
                </div>

                <div class="report-grid">
                    <div class="card">
                        <div class="card-header"><div class="card-title">æ”¶ç›Šæ›²çº¿</div></div>
                        <div class="card-body"><div class="chart-container">æ”¶ç›Šæ›²çº¿å›¾</div></div>
                    </div>
                    <div class="card">
                        <div class="card-header"><div class="card-title">èµ„äº§åˆ†å¸ƒ</div></div>
                        <div class="card-body"><div class="chart-container">é¥¼å›¾å ä½</div></div>
                    </div>
                </div>

                <div class="card" style="margin-top: 20px;">
                    <div class="card-header"><div class="card-title">æœˆåº¦æ”¶ç›Šç»Ÿè®¡</div></div>
                    <div class="card-body" style="padding: 0;">
                        <table>
                            <thead>
                                <tr><th>æœˆä»½</th><th>æ”¶ç›Šç‡</th><th>ç›ˆäºé¢</th><th>äº¤æ˜“æ¬¡æ•°</th><th>èƒœç‡</th></tr>
                            </thead>
                            <tbody>
                                <tr><td>2026-02</td><td class="price-up">+8.5%</td><td class="price-up">+$85,000</td><td>45</td><td>68%</td></tr>
                                <tr><td>2026-01</td><td class="price-up">+12.3%</td><td class="price-up">+$123,000</td><td>52</td><td>71%</td></tr>
                                <tr><td>2025-12</td><td class="price-down">-2.1%</td><td class="price-down">-$21,000</td><td>38</td><td>55%</td></tr>
                                <tr><td>2025-11</td><td class="price-up">+5.8%</td><td class="price-up">+$58,000</td><td>41</td><td>62%</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // ä»·æ ¼æ•°æ®
        const prices = { BTC: 67234.56, ETH: 3521.89, SOL: 112.34 };
        let account = { balance: 1000000, positions: {}, trades: [], initialBalance: 1000000 };
        const FEE_RATE = 0.001;

        // åŠ è½½æ•°æ®
        function loadData() {
            const saved = localStorage.getItem('quantAccount');
            if (saved) account = JSON.parse(saved);
            updateUI();
        }
        function saveData() { localStorage.setItem('quantAccount', JSON.stringify(account)); }

        // æ›´æ–°UI
        function updateUI() {
            let positionValue = 0;
            for (const [sym, pos] of Object.entries(account.positions)) {
                positionValue += pos.amount * prices[sym];
            }
            const totalAsset = account.balance + positionValue;
            document.getElementById('totalAsset').textContent = '$' + totalAsset.toLocaleString('en-US', {maximumFractionDigits: 2});
            document.getElementById('todayPnl').textContent = '$' + (totalAsset - account.initialBalance).toFixed(2);
            document.getElementById('positionValue').textContent = '$' + positionValue.toFixed(2);
            document.getElementById('availableBalance').textContent = '$' + account.balance.toLocaleString('en-US', {maximumFractionDigits: 2});
            updatePositionTable();
            updateTradeHistory();
        }

        // æ›´æ–°æŒä»“è¡¨
        function updatePositionTable() {
            const tbody = document.getElementById('positionTable');
            const symbols = Object.keys(account.positions);
            if (symbols.length === 0) {
                tbody.innerHTML = '<tr><td colspan="5" class="empty-state">æš‚æ— æŒä»“</td></tr>';
                return;
            }
            tbody.innerHTML = symbols.map(sym => {
                const pos = account.positions[sym];
                const currentPrice = prices[sym];
                const pnl = (currentPrice - pos.avgPrice) * pos.amount;
                const pnlPct = (pnl / pos.cost * 100);
                return `<tr><td><strong>${sym}</strong></td><td>${pos.amount.toFixed(4)}</td><td>$${pos.avgPrice.toFixed(2)}</td><td>$${currentPrice.toFixed(2)}</td><td class="${pnl >= 0 ? 'price-up' : 'price-down'}">${pnl >= 0 ? '+' : ''}$${pnl.toFixed(2)} (${pnlPct.toFixed(2)}%)</td></tr>`;
            }).join('');
        }

        // æ›´æ–°äº¤æ˜“å†å²
        function updateTradeHistory() {
            const tbody = document.getElementById('tradeHistory');
            if (account.trades.length === 0) {
                tbody.innerHTML = '<tr><td colspan="4" class="empty-state">æš‚æ— æˆäº¤</td></tr>';
                return;
            }
            tbody.innerHTML = account.trades.slice(-10).reverse().map(t => {
                const time = new Date(t.time).toLocaleTimeString('zh-CN', {hour: '2-digit', minute: '2-digit'});
                return `<tr><td>${time}</td><td class="${t.side === 'buy' ? 'price-up' : 'price-down'}">${t.side === 'buy' ? 'ä¹°å…¥' : 'å–å‡º'}</td><td>$${t.price.toFixed(2)}</td><td>${t.amount.toFixed(4)}</td></tr>`;
            }).join('');
        }

        // ä¸‹å•
        function placeOrder(side) {
            const symbol = document.getElementById('symbolSelect').value;
            const price = parseFloat(document.getElementById('priceInput').value);
            const amount = parseFloat(document.getElementById('amountInput').value);
            if (!price || !amount || amount <= 0) { showToast('è¯·è¾“å…¥æœ‰æ•ˆçš„ä»·æ ¼å’Œæ•°é‡', 'error'); return; }
            const total = price * amount;
            const fee = total * FEE_RATE;
            if (side === 'buy') {
                if (total + fee > account.balance) { showToast('ä½™é¢ä¸è¶³', 'error'); return; }
                account.balance -= (total + fee);
                if (account.positions[symbol]) {
                    const pos = account.positions[symbol];
                    pos.cost += total;
                    pos.amount += amount;
                    pos.avgPrice = pos.cost / pos.amount;
                } else {
                    account.positions[symbol] = { amount: amount, avgPrice: price, cost: total };
                }
                showToast(`ä¹°å…¥ ${amount.toFixed(4)} ${symbol}`, 'success');
            } else {
                if (!account.positions[symbol] || account.positions[symbol].amount < amount) { showToast('æŒä»“ä¸è¶³', 'error'); return; }
                account.balance += (total - fee);
                const pos = account.positions[symbol];
                pos.amount -= amount;
                pos.cost = pos.amount * pos.avgPrice;
                if (pos.amount <= 0.0001) delete account.positions[symbol];
                showToast(`å–å‡º ${amount.toFixed(4)} ${symbol}`, 'success');
            }
            account.trades.push({ time: Date.now(), symbol, side, price, amount, fee });
            document.getElementById('amountInput').value = '';
            saveData();
            updateUI();
        }

        // é‡ç½®è´¦æˆ·
        function resetAccount() {
            if (confirm('ç¡®å®šé‡ç½®è´¦æˆ·ï¼Ÿæ‰€æœ‰æ•°æ®å°†æ¸…ç©ºã€‚')) {
                account = { balance: 1000000, positions: {}, trades: [], initialBalance: 1000000 };
                saveData();
                updateUI();
                showToast('è´¦æˆ·å·²é‡ç½®', 'success');
            }
        }

        // æ˜¾ç¤ºæç¤º
        function showToast(msg, type) {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = msg;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        // æ ‡ç­¾åˆ‡æ¢
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                document.querySelectorAll('.sidebar-item').forEach(s => s.classList.remove('active'));
                tab.classList.add('active');
                const tabName = tab.dataset.tab;
                document.getElementById(tabName + '-tab').classList.add('active');
                document.querySelector(`.sidebar-item[data-tab="${tabName}"]`).classList.add('active');
            });
        });

        // ä¾§è¾¹æ åˆ‡æ¢
        document.querySelectorAll('.sidebar-item').forEach(item => {
            item.addEventListener('click', () => {
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                document.querySelectorAll('.sidebar-item').forEach(s => s.classList.remove('active'));
                const tabName = item.dataset.tab;
                item.classList.add('active');
                document.getElementById(tabName + '-tab').classList.add('active');
                document.querySelector(`.nav-tab[data-tab="${tabName}"]`).classList.add('active');
            });
        });

        // åˆ‡æ¢äº¤æ˜“å¯¹
        document.getElementById('symbolSelect').addEventListener('change', function() {
            document.getElementById('priceInput').value = prices[this.value].toFixed(2);
        });

        // è¿è¡Œå›æµ‹
        function runBacktest() {
            document.getElementById('backtestResult').style.display = 'block';
            showToast('å›æµ‹å®Œæˆ', 'success');
        }

        // åˆ‡æ¢ç­–ç•¥
        function toggleStrategy(checkbox) {
            showToast(checkbox.checked ? 'ç­–ç•¥å·²å¯åŠ¨' : 'ç­–ç•¥å·²åœæ­¢', 'success');
        }

        // åˆ›å»ºç­–ç•¥
        function showStrategyModal() {
            showToast('ç­–ç•¥åˆ›å»ºåŠŸèƒ½å¼€å‘ä¸­', 'error');
        }

        // åˆå§‹åŒ–
        loadData();
    </script>
</body>
</html>